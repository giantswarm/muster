name: "mcpserver-mixed-local-remote"
description: "Test mixed environment with both local and remote MCP servers"
category: "behavioral"
concept: "mcpserver"
tags: ["mcpserver", "mixed", "local", "remote", "core-api"]
timeout: "2m"

steps:
- id: "create-local-mcpserver"
  description: "Create a local MCP server"
  tool: "core_mcpserver_create"
  args:
    name: "mixed-local-server"
    type: "local"
    command: ["echo", "local-mixed-test"]
    autoStart: false
  expected:
    success: true

- id: "create-remote-mcpserver"
  description: "Create a remote MCP server"
  tool: "core_mcpserver_create"
  args:
    name: "mixed-remote-server"
    type: "remote"
    endpoint: "https://remote.example.com/mcp"
    transport: "https"
    timeout: "30s"
  expected:
    success: true

- id: "list-all-mcpservers"
  description: "List all MCP servers to verify both types exist"
  tool: "core_mcpserver_list"
  expected:
    success: true
    contains: ["mixed-local-server", "mixed-remote-server"]

- id: "verify-local-server-details"
  description: "Verify local MCP server details"
  tool: "core_mcpserver_get"
  args:
    name: "mixed-local-server"
  expected:
    success: true
    json_path:
      name: "mixed-local-server"
      type: "local"

- id: "verify-remote-server-details"
  description: "Verify remote MCP server details"
  tool: "core_mcpserver_get"
  args:
    name: "mixed-remote-server"
  expected:
    success: true
    json_path:
      name: "mixed-remote-server"
      type: "remote"

cleanup:
- id: "delete-local-mcpserver"
  description: "Delete the local MCP server"
  tool: "core_mcpserver_delete"
  args:
    name: "mixed-local-server"
  expected:
    success: true

- id: "delete-remote-mcpserver"
  description: "Delete the remote MCP server"
  tool: "core_mcpserver_delete"
  args:
    name: "mixed-remote-server"
  expected:
    success: true 

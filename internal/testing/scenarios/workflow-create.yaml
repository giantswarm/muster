name: "workflow-create"
category: "behavioral"
concept: "workflow"
tags: ["workflow", "create", "core-api"]
timeout: "1m"

steps:
- id: "create-valid-workflow"
  tool: "core_workflow_create"
  args:
    name: "test-workflow"
    inputSchema:
      type: "object"
      properties: {}
      required: []
    steps:
      - id: "check_service"
        tool: "core_service_list"
  expected:
    success: true
  cleanup:
    - id: "delete-created-workflow"
      tool: "core_workflow_delete"
      args:
        name: "test-workflow"

- id: "create-advanced-workflow"
  tool: "core_workflow_create"
  args:
    name: "advanced-workflow"
    inputSchema:
      type: "object"
      properties: {}
      required: []
    steps:
      - id: "list_services"
        tool: "core_service_list"
      - id: "list_capabilities"
        tool: "core_capability_list"
  expected:
    success: true
  cleanup:
    - id: "delete-advanced-workflow"
      tool: "core_workflow_delete"
      args:
        name: "advanced-workflow"

- id: "verify-workflows-in-list"
  tool: "core_workflow_list"
  expected:
    success: true
    contains: ["test-workflow", "advanced-workflow"] 